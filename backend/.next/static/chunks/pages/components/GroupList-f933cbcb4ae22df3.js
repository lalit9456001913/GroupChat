(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[785],{169:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/GroupList",function(){return e(1020)}])},1020:function(n,t,e){"use strict";e.r(t);var i=e(2729),s=e(5893);e(7294);var r=e(964);e(8798);var o=e(1163);function u(){let n=(0,i._)(["\n  max-width: 600px;\n  margin: 20px auto;\n  padding: 20px;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n"]);return u=function(){return n},n}function l(){let n=(0,i._)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px;\n  border-bottom: 1px solid #eee;\n\n  &:last-child {\n    border-bottom: none;\n  }\n\n  h3 {\n    margin: 0;\n  }\n\n  button {\n    background-color: #4caf50;\n    color: #fff;\n    padding: 8px;\n    margin-left: 10px;\n    cursor: pointer;\n  }\n"]);return l=function(){return n},n}let d=r.ZP.div(u()),c=r.ZP.div(l());t.default=n=>{let{auth:t,groups:e,onDeleteGroup:i}=n,r=(0,o.useRouter)(),u=async(n,t)=>{i(n,t)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(d,{style:{display:"inline-block",verticalAlign:"top"},children:[(0,s.jsxs)("h2",{children:[null==t?void 0:t.username," Messaging Groups"]}),(null==e?void 0:e.length)&&(null==e?void 0:e.map(n=>{var e;if(null==n?void 0:null===(e=n.members)||void 0===e?void 0:e.some(n=>n._id==t.id))return(0,s.jsxs)(c,{children:[(0,s.jsx)("div",{children:(0,s.jsx)("h3",{children:n.name})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:()=>{r.push("/groups/".concat(null==n?void 0:n._id))},children:"view"}),(0,s.jsx)("button",{onClick:()=>{r.push("/groups/".concat(null==n?void 0:n._id,"/edit"))},children:"Edit"}),(null==t?void 0:t.isAdmin)&&(0,s.jsx)("button",{onClick:()=>{u(null==n?void 0:n._id,null==n?void 0:n.admin)},children:"Delete"})]})]},n._id)}))]}),(0,s.jsxs)(d,{style:{display:"inline-block",verticalAlign:"top"},children:[(0,s.jsxs)("h2",{children:[null==t?void 0:t.username," Groups (Admin)"]}),(null==e?void 0:e.length)&&(null==e?void 0:e.map(n=>{if(n.admin==t.id)return(0,s.jsxs)(c,{children:[(0,s.jsx)("div",{children:(0,s.jsx)("h3",{children:n.name})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:()=>{r.push("/groups/".concat(null==n?void 0:n._id))},children:"view"}),(0,s.jsx)("button",{onClick:()=>{r.push("/groups/".concat(null==n?void 0:n._id,"/edit"))},children:"Edit"}),(0,s.jsx)("button",{onClick:()=>{u(null==n?void 0:n._id,null==n?void 0:n.admin)},children:"Delete"})]})]},n._id)}))]}),(0,s.jsxs)(d,{style:{display:"inline-block",verticalAlign:"top"},children:[(0,s.jsx)("h2",{children:"All Group List"}),(null==e?void 0:e.length)&&(null==e?void 0:e.map(n=>(0,s.jsxs)(c,{children:[(0,s.jsx)("div",{children:(0,s.jsx)("h3",{children:n.name})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:()=>{r.push("/groups/".concat(null==n?void 0:n._id))},children:"view"}),(0,s.jsx)("button",{onClick:()=>{r.push("/groups/".concat(null==n?void 0:n._id,"/edit"))},children:"Edit"}),t.isAdmin&&(0,s.jsx)("button",{onClick:()=>{u(null==n?void 0:n._id,null==n?void 0:n.admin)},children:"Delete"})]})]},n._id)))]})]})}},5642:function(n,t,e){"use strict";e.d(t,{M7:function(){return o},QV:function(){return r},v0:function(){return s}}),e(1163);let i=new(e(3059)).Z,s=()=>i.get("AUTH"),r=n=>i.set("AUTH",n,{path:"/"}),o=n=>i.remove("AUTH",{path:"/"})},8798:function(n,t,e){"use strict";e.d(t,{Fb:function(){return o},VL:function(){return l},sS:function(){return r},yq:function(){return u}});var i=e(1030),s=e(7065);let r=n=>i.ZI(s.aJ,n),o=()=>i.Ql(s.lH),u=(n,t)=>i.pX((0,s.VC)(n,t)),l=n=>i.Ql((0,s.Qf)(n))},1030:function(n,t,e){"use strict";e.d(t,{Ql:function(){return u},ZI:function(){return o},am:function(){return c},eg:function(){return r},pX:function(){return d},sq:function(){return l}});var i=e(5121),s=e(5642);let r=(n,t)=>new Promise((e,s)=>{i.Z.post(n,t).then(n=>{n&&n.data&&e({status:!0,data:n.data})}).catch(n=>{e({status:!1,message:n.message})})}),o=(n,t)=>new Promise((e,r)=>{let o={"content-type":"application/json","x-access-token":(0,s.v0)().token};i.Z.post(n,t,{headers:o}).then(n=>{n&&n.data&&e({status:!0,data:n.data})}).catch(n=>{e({status:!1,message:n.message})})}),u=n=>new Promise((t,e)=>{i.Z.get(n).then(n=>{n&&n.data&&t({status:!0,data:n.data})}).catch(n=>{t({status:!1,error:n.message})})}),l=n=>{let t=(0,s.v0)(),e={"content-type":"application/json","x-access-token":null==t?void 0:t.token};return new Promise((t,s)=>{i.Z.get(n,{headers:e}).then(n=>{n&&n.data&&t({status:!0,data:n.data})}).catch(n=>{t({status:!1,error:n.message})})})},d=(n,t)=>{let e={"content-type":"application/json","x-access-token":(0,s.v0)().token};return new Promise((t,s)=>{i.Z.delete(n,{headers:e}).then(n=>{n&&n.data&&t({status:!0,data:n.data})}).catch(n=>{t({status:!1,message:n.message})})})},c=(n,t)=>new Promise((t,e)=>{i.Z.delete(n).then(n=>{n&&n.data&&t({status:!0,data:n.data})}).catch(n=>{t({status:!1,message:n.message})})})},7065:function(n,t,e){"use strict";e.d(t,{Ag:function(){return l},Fh:function(){return u},Gz:function(){return d},Qf:function(){return h},VC:function(){return a},W8:function(){return r},Zh:function(){return o},aJ:function(){return c},lH:function(){return p},zc:function(){return f}});let i=e(3454).env.NEXT_PUBLIC_API_URL||"http://localhost:5000",s=function(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e="".concat(i).concat(n);return t&&Object.keys(t).forEach(n=>e=e.replace(":".concat(n),t[n])),e},r=s("/login"),o=s("/users"),u=n=>s("/users/:id",{id:n}),l=()=>s("/users"),d=n=>s("/users/:id",{id:n}),c=s("/groups"),a=(n,t)=>s("/groups/:id/users/:userId",{id:n,userId:t}),h=n=>s("/groups/:id",{id:n}),p=s("/groups"),f=n=>s("/groups/:id/messages",{id:n})}},function(n){n.O(0,[812,33,774,888,179],function(){return n(n.s=169)}),_N_E=n.O()}]);